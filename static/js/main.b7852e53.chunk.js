(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{488:function(n,e,t){},489:function(n,e,t){"use strict";t.r(e);var a,r,o,i,c,l=t(0),u=t.n(l),s=t(116),p=t.n(s),d=t(11),m=t(117),b="Z2hwX3ZJZktsYkRnQ1JXVjlIYUdCamVJUWRBY2hKbUdhajBOVVJ6Rw==",f="worldzhao",h="blog",g=!0,x="Iv1.95e045dfedeaaf47",E="cc3db76ffe9848c92d83172807eececa79f0eb22",v="\u6d77\u79cb",w=t(32),j=new w.a({uri:"https://api.github.com/graphql",request:function(n){n.setContext({headers:{authorization:"Bearer ".concat(atob(b))}})}}),O=function(n){return new w.a({uri:"https://api.github.com/graphql",request:function(e){e.setContext({headers:{authorization:"Bearer ".concat(n)}})}})},y=t(75),k=t(23),S=t(16),T=t(4),U=t(81),z=t.n(U),A=t(31),R=t(5),I=R.a.div(a||(a=Object(T.a)(["\n  position: relative;\n  padding: 32px;\n  text-align: center;\n"]))),M=function(){return u.a.createElement(I,null,u.a.createElement(N,{isAbsolute:!0}))},C=t(12),Y=t.n(C),L=t(22),_=t(125),H=t(126),B=g,D=x,P=R.a.div(r||(r=Object(T.a)(["\n  display: ",";\n  position: ",";\n  top: 10px;\n  right: 10px;\n"])),B?"block":"none",(function(n){return n.absolute?"absolute":"initial"})),F=R.a.button(o||(o=Object(T.a)(["\n  -webkit-appearance: none;\n  background: linear-gradient(\n    180deg,\n    rgb(136, 220, 109) 0%,\n    rgb(92, 168, 65) 100%\n  );\n  color: #fff;\n  border: none;\n  padding: 8px 16px;\n  font-size: 16px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: 0.2s;\n  outline: 0;\n\n  :hover {\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.1);\n  }\n"]))),J=R.a.span(i||(i=Object(T.a)(["\n  color: #fff;\n  font-size: 18px;\n"]))),N=function(n){var e=n.isAbsolute,t=localStorage.getItem("githubToken")||!1,a=function(){var n=Object(L.a)(Y.a.mark((function n(){return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:window.location.href="https://github.com/login/oauth/authorize?client_id="+D;case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return u.a.createElement(P,{absolute:e},t?u.a.createElement(J,null,"Logged in as ",localStorage.getItem("githubUsername")):u.a.createElement(F,{onClick:a},u.a.createElement(_.a,{icon:H.a})," Log in"))};function V(n){var e=n.fill;return u.a.createElement("svg",{width:"80",height:"80",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:e},u.a.createElement("g",{fill:"none","fill-rule":"evenodd"},u.a.createElement("g",{transform:"translate(1 1)","stroke-width":"2"},u.a.createElement("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),u.a.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},u.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))))}var q,G,Z,K,Q,W,X,$,nn,en,tn,an,rn,on,cn,ln,un,sn,pn,dn,mn,bn,fn=R.a.span(c||(c=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 200px;\n"]))),hn=function(){return u.a.createElement(fn,null,u.a.createElement(V,{fill:"#2ecc71"}))},gn=R.a.div(q||(q=Object(T.a)(["\n  margin: 0 auto 0 auto;\n  width: 90%;\n  max-width: 700px;\n  padding: 20px 10px;\n"]))),xn=R.a.div(G||(G=Object(T.a)(["\n  cursor: pointer;\n  margin-bottom: 1rem;\n  border-radius: 10px;\n  padding: 10px;\n  transition: 0.2s;\n  position: relative;\n  background-color: rgb(255, 255, 255);\n  color: rgb(54, 53, 55);\n  transition: all 0.25s linear 0s;\n\n  &:hover {\n    background-color: #f5f5f5;\n  }\n"]))),En=R.a.div(Z||(Z=Object(T.a)(["\n  display: flex;\n  align-items: center;\n"]))),vn=R.a.div(K||(K=Object(T.a)(['\n  display: inline-block;\n  background: #009bbb;\n  border-radius: 4px;\n  padding: 4px 8px;\n  font-size: 12px;\n  color: #fff;\n  text-transform: uppercase;\n  font-weight: 300;\n  line-height: 16px;\n  font-family: "Quicksand";\n  margin-right: 10px;\n  margin-bottom: 8px;\n']))),wn=function(n){var e=n.value;return u.a.createElement(vn,{key:e.id,style:{backgroundColor:"#".concat(e.color)}},e.name)},jn=R.a.p(Q||(Q=Object(T.a)(["\n  font-size: 18px;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n"]))),On=R.a.p(W||(W=Object(T.a)(["\n  color: #b5b5b5;\n  font-size: 16px;\n  margin-bottom: 8px;\n"]))),yn=function(n){var e=n.time;return u.a.createElement(On,null,e," Min Read")},kn=t(51),Sn=t.n(kn),Tn=function(n){var e=n.blog,t=Object(l.useState)([]),a=Object(S.a)(t,2),r=a[0],o=a[1],i=Object(k.f)();return Object(l.useEffect)((function(){var n=e.labels.nodes.filter((function(n){return"blog"!==n.name}));o(n)}),[e.labels.nodes]),u.a.createElement(xn,null,u.a.createElement("div",{onClick:function(){return n=e.title,t=e.number,void i.push("/post/".concat(n,"/").concat(t));var n,t}},u.a.createElement("h2",{style:{marginTop:"0.2em"}},e.title),u.a.createElement(En,null,u.a.createElement(u.a.Fragment,null,r.map((function(n,e){return u.a.createElement(wn,{value:n,key:e})})))),u.a.createElement(yn,{time:Sn()(e.body).minutes}),u.a.createElement(jn,null,e.bodyText)))},Un=z()(X||(X=Object(T.a)(['\n{\n  repository(owner: "','", name: "','") {\n    issues(first: 100, states: OPEN, orderBy: { direction: DESC, field: CREATED_AT }) {\n      nodes {\n        title\n        body\n        bodyHTML\n        bodyText\n        number\n        labels(first: 100) {\n          nodes {\n            color\n            name\n            id\n          }\n        }\n        author {\n          url\n          avatarUrl\n          login\n        }\n        updatedAt\n        id\n      }\n    }\n  }\n}\n'])),f,h),zn=function(){var n=Object(l.useState)([]),e=Object(S.a)(n,2),t=e[0],a=e[1],r=Object(A.a)(Un),o=r.loading,i=r.error,c=r.data;return Object(l.useEffect)((function(){var n,e;o||(i&&console.error(i),c&&a(null===c||void 0===c||null===(n=c.repository)||void 0===n||null===(e=n.issues)||void 0===e?void 0:e.nodes))}),[o,i,c]),u.a.createElement(u.a.Fragment,null,u.a.createElement(M,null),u.a.createElement(gn,null,o?u.a.createElement(hn,null):t.map((function(n,e){return u.a.createElement(Tn,{blog:n,key:e})}))))},An=t(52),Rn=t.n(An),In=t(53),Mn=t(79),Cn={THUMBS_UP:"\ud83d\udc4d",THUMBS_DOWN:"\ud83d\udc4e",LAUGH:"\ud83d\ude04",HOORAY:"\ud83c\udf89",CONFUSED:"\ud83d\ude15",HEART:"\u2764\ufe0f",ROCKET:"\ud83d\ude80",EYES:"\ud83d\udc40"},Yn=function(n){return function(n){var e={};return Object.keys(n).forEach((function(t){e[n[t]]=t})),e}(Cn)[n]||""},Ln=function(){var n=Object(L.a)(Y.a.mark((function n(){var e,t,a;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=localStorage.getItem("githubToken"))){n.next=10;break}return n.next=4,fetch("https://api.github.com/user",{headers:new Headers({authorization:"Bearer ".concat(e)})});case 4:return t=n.sent,n.next=7,t.json();case 7:return(a=n.sent).token=e,n.abrupt("return",a);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),_n=R.a.div($||($=Object(T.a)(["\n  margin: 0 auto 0 auto;\n  width: 90%;\n  max-width: 700px;\n  padding: 20px 10px;\n  position: relative;\n"]))),Hn=R.a.h1(nn||(nn=Object(T.a)(["\n  @media only screen and (max-width: 768px) {\n    font-size: 30px;\n  }\n"]))),Bn=R.a.p(en||(en=Object(T.a)(["\n  font-weight: 400;\n  font-size: 14px;\n  margin-bottom: 0px;\n  margin-top: 0px;\n"]))),Dn=R.a.a(tn||(tn=Object(T.a)(["\n  font-size: 14px;\n  text-decoration: none;\n  transition-duration: 0.15s, 0.15s, 0.15s;\n  transition-timing-function: ease-in, ease-in, ease-in;\n  transition-delay: 0s, 0s, 0s;\n"]))),Pn=R.a.span(an||(an=Object(T.a)(["\n  position: static;\n  bottom: 60px;\n  animation-name: scale-in;\n  animation-duration: 0.15s;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n"]))),Fn=R.a.button(rn||(rn=Object(T.a)(['\n  outline: none;\n  border: 1px solid;\n  font-size: 22px;\n  font-family: "Shadows Into Light", serif;\n  border-radius: 5px;\n  padding: 0px 20px 0 30px;\n  cursor: pointer;\n  position: relative;\n\n  :hover {\n    background-color: "#373737";\n    color: white;\n  }\n\n  :before {\n    content: "\\27A4";\n    position: absolute;\n    transform: translateY(-50%) rotate(180deg);\n    left: 10px;\n    font-size: 16px;\n    top: 54%;\n  }\n'],['\n  outline: none;\n  border: 1px solid;\n  font-size: 22px;\n  font-family: "Shadows Into Light", serif;\n  border-radius: 5px;\n  padding: 0px 20px 0 30px;\n  cursor: pointer;\n  position: relative;\n\n  :hover {\n    background-color: "#373737";\n    color: white;\n  }\n\n  :before {\n    content: "\\\\27A4";\n    position: absolute;\n    transform: translateY(-50%) rotate(180deg);\n    left: 10px;\n    font-size: 16px;\n    top: 54%;\n  }\n']))),Jn=R.a.div(on||(on=Object(T.a)(["\n  display: flex;\n  align-items: center;\n"]))),Nn=R.a.img(cn||(cn=Object(T.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 40px;\n  margin: 10px;\n  margin-left: 0px;\n"]))),Vn=R.a.p(ln||(ln=Object(T.a)(["\n  margin-bottom: 0px;\n  margin-top: 0px;\n  font-size: 16px;\n"]))),qn=t(132),Gn=t(494),Zn=t(493),Kn=function(n){var e=n.children,t=Object(qn.a)(n,["children"]);return u.a.createElement("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"blog-post-anchor"},e)},Qn=function(n){var e=n.children;return u.a.createElement(Gn.a,{language:"javascript",style:Zn.a},e.props.children)},Wn=function(n){var e=n.comment;return u.a.createElement(Xn,null,u.a.createElement(Jn,null,u.a.createElement(Nn,{src:e.author.avatarUrl,alt:e.author.login}),u.a.createElement("div",null,u.a.createElement(Vn,null,e.author.login),u.a.createElement(Bn,null,Rn()(e.updatedAt).format("DD MMM YYYY")))),u.a.createElement(In.a,{options:{overrides:{a:{component:Kn},pre:{component:Qn}}}},e.body))},Xn=R.a.div(un||(un=Object(T.a)(["\n  margin-top: 3rem;\n  border-radius: 10px;\n  padding: 10px 30px;\n  position: relative;\n  font-size: 16px;\n"]))),$n=R.a.a(sn||(sn=Object(T.a)(['\n  outline: none;\n  border: 1px solid;\n  font-size: 22px;\n  font-family: "Shadows Into Light", serif;\n  border-radius: 5px;\n  padding: 0px 20px 0 20px;\n  cursor: pointer;\n  position: relative;\n  text-decoration: none;\n  margin: auto;\n\n  :hover {\n    background-color: "#373737";\n    color: white;\n  }\n']))),ne=R.a.div(pn||(pn=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 3rem;\n"]))),ee=function(n){var e=n.postUrl,t=n.comments;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ne,null,u.a.createElement($n,{href:e+"#issue-comment-box",target:"_blank"},"Post a comment")),t.map((function(n,e){return u.a.createElement(Wn,{comment:n,key:e})})))};function te(){var n=parseInt(window.location.href.split("/").pop()),e=z()(dn||(dn=Object(T.a)(['{\n    repository(owner: "','", name: "','") {\n      issue(number: ',") {\n        title\n        body\n        bodyHTML\n        url\n        bodyText\n        number\n        bodyHTML\n        author {\n          url\n          avatarUrl\n          login\n        }\n        reactions(first:100){\n          nodes{\n            content\n            user{\n              id\n              login\n            }\n          }\n        }\n        updatedAt\n        id\n        comments(first:100) {\n          nodes {\n            author {\n              ... on User {\n                avatarUrl\n                name\n                login\n              }\n            }\n            body\n            bodyHTML\n            bodyText\n            publishedAt\n            updatedAt\n          }\n        }\n      }\n    }\n  }\n  "])),f,h,n),t=Object(l.useState)([]),a=Object(S.a)(t,2),r=a[0],o=a[1],i=Object(l.useState)(""),c=Object(S.a)(i,2),s=c[0],p=c[1],d=Object(l.useState)(!1),m=Object(S.a)(d,2),b=m[0],g=m[1],x=Object(l.useState)([]),E=Object(S.a)(x,2),v=E[0],w=E[1],j=Object(l.useState)([]),y=Object(S.a)(j,2),k=y[0],U=y[1],R=Object(A.a)(e),I=R.loading,M=R.error,C=R.data,_=Object(l.useRef)(null),H=localStorage.getItem("githubToken"),B=Object(l.useCallback)((function(n){var e=[];n.forEach((function(n){var t,a={by:n.user.login,emoji:(t=n.content,Cn[t]||"")};e.push(a)})),w(e)}),[]),D=function(){var n=Object(L.a)(Y.a.mark((function n(e){var t,a,r;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=v,n.next=3,Ln();case 3:if(a=n.sent,0!==t.filter((function(n){return n.emoji===e&&n.by===a.login})).length){n.next=12;break}return r={by:a.login,emoji:e},n.next=9,O(H).mutate({mutation:z()(mn||(mn=Object(T.a)(['\n          mutation AddReaction {\n            addReaction(input:{subjectId:"','",content:',',clientMutationId:"','"}) {\n              reaction {\n                id\n              }\n            }\n          }\n        '])),s,Yn(e),a.node_id)});case 9:t.push(r),n.next=15;break;case 12:return n.next=14,O(H).mutate({mutation:z()(bn||(bn=Object(T.a)(['\n          mutation RemoveReaction {\n            removeReaction(input:{subjectId:"','",content:',',clientMutationId:"','"}) {\n              reaction {\n                id\n              }\n            }\n          }\n        '])),s,Yn(e),a.node_id)});case 14:t=t.filter((function(n){return!(n.by===a.login&&n.emoji===e)}));case 15:w(t),_.current.forceUpdate(),g(!1);case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();if(Object(l.useEffect)((function(){if(!I&&C){var n=C.repository.issue;p(n.id),o(n),B(n.reactions.nodes),U(n.comments.nodes)}}),[I,M,C,B]),I)return u.a.createElement(hn,null);return u.a.createElement(u.a.Fragment,null,r.title&&u.a.createElement(_n,null,u.a.createElement(Fn,{onClick:function(){return window.history.go(),void window.history.back()}},"Back"),u.a.createElement(Hn,null,r.title),u.a.createElement("div",null,u.a.createElement(Jn,null,u.a.createElement(Nn,{src:r.author.avatarUrl,alt:r.author.login}),u.a.createElement("div",null,u.a.createElement(Vn,null,r.author.login),u.a.createElement(Bn,null,Rn()(r.updatedAt).format("DD MMM YYYY")," .",Sn()(r.body).minutes," Min Read .",u.a.createElement(Dn,{href:r.url,target:"_black"},"View On Github"))))),u.a.createElement(In.a,{options:{overrides:{a:{component:Kn},pre:{component:Qn}}}},r.body),b&&u.a.createElement(Pn,null,H?u.a.createElement(Mn.GithubSelector,{onSelect:function(n){return D(n)}}):u.a.createElement(N,{isAbsolute:!1})),u.a.createElement(Mn.GithubCounter,{ref:_,counters:v,onSelect:function(n){return D(n)},onAdd:function(){return g(!b)}}),u.a.createElement(ee,{postUrl:r.url,comments:k})))}var ae=function(){return u.a.createElement(y.a,{basename:"posts"},u.a.createElement(k.c,null,u.a.createElement(k.a,{exact:!0,path:"/",component:zn}),u.a.createElement(k.a,{exact:!0,path:"/post/:title/:issueNumber",component:te})))},re=g,oe=x,ie=E,ce=function(){var n=Object(l.useState)(!0),e=Object(S.a)(n,2),t=e[0],a=e[1],r=function(){var n=Object(L.a)(Y.a.mark((function n(e){var t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token",{method:"POST",body:new URLSearchParams({client_id:oe,client_secret:ie,code:e}),headers:new Headers({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"})});case 2:return t=n.sent,n.abrupt("return",t.json());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),o=function(){var n=Object(L.a)(Y.a.mark((function n(){var e,t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ln();case 2:e=n.sent,t=e.login,localStorage.setItem("githubUsername",t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(l.useEffect)((function(){var n=new URLSearchParams(window.location.search);r(n.get("code")).then((function(n){n&&(localStorage.setItem("githubToken",n.access_token),o().then((function(){return a(!1)})))}))}),[]),re&&t?u.a.createElement(hn,null):window.location.replace(window.location.origin+window.location.pathname)},le=function(){return new URLSearchParams(window.location.search).get("code")?u.a.createElement(ce,null):u.a.createElement(u.a.Fragment,null,u.a.createElement(m.Helmet,null,u.a.createElement("title",null,v),u.a.createElement("meta",{charSet:"utf-8"})),u.a.createElement(d.a,{client:j},u.a.createElement(ae,null)))};t(488);p.a.render(u.a.createElement(le,null),document.getElementById("root"))}},[[489,1,2]]]);
//# sourceMappingURL=main.b7852e53.chunk.js.map